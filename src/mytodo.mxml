<?xml version="1.0" encoding="utf-8"?>
<mx:WindowedApplication xmlns:mx="http://www.adobe.com/2006/mxml" layout="absolute" 
	title="MyToDo" width="306" height="493" horizontalScrollPolicy="off" verticalScrollPolicy="off">
    <mx:Script> 
        <![CDATA[ 
            import mx.controls.Alert; 
            public function addItem():void 
            { 
                if (itemInput.text) {                        	
	                listData=listData.concat([{pos:listData.length,label:itemInput.text,done:false}]);
	                itemInput.text="";                             	
                }
              
            }
            
            public function toggleItem(pos:int):void {
            	listData[pos].done=listData[pos].done ? false : true
            }
            
            public function debugData():void 
            {  
 				data=listData.map(function(x:*, i:int, a:Array):String{ return x.pos+":"+x.label+":"+x.done })
 				Alert.show(data.join("\n"))             
            }

            [Bindable] 
	        public var listData:Array = []; 

        ]]> 
    </mx:Script> 

    <mx:TextInput x="10" y="66" id="itemInput" width="225" backgroundColor="#E6E6E6"/>
    <mx:Button x="243" y="66" label="Add" id="addButon" click="addItem()" labelPlacement="left"/>
    <mx:List x="10" y="96" width="282" height="325" id="itemList" dataProvider="{listData}" backgroundColor="#E6E6E6">
    <mx:itemRenderer> 
        <mx:Component>   
        <!-- mx component dela novy namespace, reference musim prefixovat "outerDocument" -->
                <mx:CheckBox label="{data.label}" selected="{data.done}" click="outerDocument.toggleItem(data.pos)"/>
        </mx:Component> 
    </mx:itemRenderer> 
    </mx:List>
    <mx:Button x="12" y="429" width="282" click="debugData()" height="20" labelPlacement="bottom" label="Debug"/>
    <mx:Image x="10" y="10" source="assets/images/mytodo-48x48.png"/>
    <mx:Text x="66" y="24" text="Here you can write your list items&#xd;" width="238" height="25" fontSize="13" fontAntiAliasType="advanced"/>
</mx:WindowedApplication>
